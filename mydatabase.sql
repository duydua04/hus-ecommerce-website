
SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 885 (class 1247 OID 16816)
-- Name: buyer_address_label_enum; Type: TYPE; Schema: public; Owner: mywebsite
--

CREATE TYPE public.buyer_address_label_enum AS ENUM (
    'home',
    'office',
    'other'
);


ALTER TYPE public.buyer_address_label_enum OWNER TO mywebsite;

--
-- TOC entry 879 (class 1247 OID 16797)
-- Name: buyer_tier; Type: TYPE; Schema: public; Owner: mywebsite
--

CREATE TYPE public.buyer_tier AS ENUM (
    'bronze',
    'silver',
    'gold',
    'platinum',
    'diamond'
);


ALTER TYPE public.buyer_tier OWNER TO mywebsite;

--
-- TOC entry 894 (class 1247 OID 16840)
-- Name: order_status_enum; Type: TYPE; Schema: public; Owner: mywebsite
--

CREATE TYPE public.order_status_enum AS ENUM (
    'pending',
    'processing',
    'shipped',
    'delivered',
    'cancelled',
    'returned'
);


ALTER TYPE public.order_status_enum OWNER TO mywebsite;

--
-- TOC entry 891 (class 1247 OID 16832)
-- Name: payment_method_enum; Type: TYPE; Schema: public; Owner: mywebsite
--

CREATE TYPE public.payment_method_enum AS ENUM (
    'bank_transfer',
    'cod',
    'mim_pay'
);


ALTER TYPE public.payment_method_enum OWNER TO mywebsite;

--
-- TOC entry 897 (class 1247 OID 16854)
-- Name: payment_status_enum; Type: TYPE; Schema: public; Owner: mywebsite
--

CREATE TYPE public.payment_status_enum AS ENUM (
    'pending',
    'paid',
    'failed',
    'refunded'
);


ALTER TYPE public.payment_status_enum OWNER TO mywebsite;

--
-- TOC entry 888 (class 1247 OID 16824)
-- Name: seller_address_label_enum; Type: TYPE; Schema: public; Owner: mywebsite
--

CREATE TYPE public.seller_address_label_enum AS ENUM (
    'headquarters',
    'warehouse',
    'other'
);


ALTER TYPE public.seller_address_label_enum OWNER TO mywebsite;

--
-- TOC entry 882 (class 1247 OID 16808)
-- Name: seller_tier; Type: TYPE; Schema: public; Owner: mywebsite
--

CREATE TYPE public.seller_tier AS ENUM (
    'regular',
    'preferred',
    'mall'
);


ALTER TYPE public.seller_tier OWNER TO mywebsite;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 222 (class 1259 OID 16910)
-- Name: address; Type: TABLE; Schema: public; Owner: mywebsite
--

CREATE TABLE public.address (
    address_id integer NOT NULL,
    fullname character varying(255) NOT NULL,
    street character varying(255) NOT NULL,
    ward character varying(50) NOT NULL,
    district character varying(50) NOT NULL,
    province character varying(100) DEFAULT ''::character varying NOT NULL,
    phone character varying(20) DEFAULT ''::character varying NOT NULL
);


ALTER TABLE public.address OWNER TO mywebsite;

--
-- TOC entry 221 (class 1259 OID 16909)
-- Name: address_address_id_seq; Type: SEQUENCE; Schema: public; Owner: mywebsite
--

ALTER TABLE public.address ALTER COLUMN address_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.address_address_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 216 (class 1259 OID 16864)
-- Name: admin; Type: TABLE; Schema: public; Owner: mywebsite
--

CREATE TABLE public.admin (
    admin_id integer NOT NULL,
    email character varying(255) NOT NULL,
    phone character varying(20) NOT NULL,
    fname character varying(255) NOT NULL,
    lname character varying(255),
    password character varying(255) NOT NULL,
    avt_url character varying(255),
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.admin OWNER TO mywebsite;

--
-- TOC entry 215 (class 1259 OID 16863)
-- Name: admin_admin_id_seq; Type: SEQUENCE; Schema: public; Owner: mywebsite
--

ALTER TABLE public.admin ALTER COLUMN admin_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.admin_admin_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 218 (class 1259 OID 16877)
-- Name: buyer; Type: TABLE; Schema: public; Owner: mywebsite
--

CREATE TABLE public.buyer (
    buyer_id integer NOT NULL,
    email character varying(255) NOT NULL,
    phone character varying(20) NOT NULL,
    fname character varying(255) NOT NULL,
    lname character varying(255),
    password character varying(255) NOT NULL,
    avt_url character varying(255),
    buyer_tier public.buyer_tier DEFAULT 'bronze'::public.buyer_tier NOT NULL,
    is_active boolean DEFAULT true NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.buyer OWNER TO mywebsite;

--
-- TOC entry 224 (class 1259 OID 16918)
-- Name: buyer_address; Type: TABLE; Schema: public; Owner: mywebsite
--

CREATE TABLE public.buyer_address (
    buyer_address_id integer NOT NULL,
    buyer_id integer NOT NULL,
    address_id integer NOT NULL,
    is_default boolean DEFAULT false NOT NULL,
    label public.buyer_address_label_enum
);


ALTER TABLE public.buyer_address OWNER TO mywebsite;

--
-- TOC entry 223 (class 1259 OID 16917)
-- Name: buyer_address_buyer_address_id_seq; Type: SEQUENCE; Schema: public; Owner: mywebsite
--

ALTER TABLE public.buyer_address ALTER COLUMN buyer_address_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.buyer_address_buyer_address_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 217 (class 1259 OID 16876)
-- Name: buyer_buyer_id_seq; Type: SEQUENCE; Schema: public; Owner: mywebsite
--

ALTER TABLE public.buyer ALTER COLUMN buyer_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.buyer_buyer_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 230 (class 1259 OID 16940)
-- Name: carrier; Type: TABLE; Schema: public; Owner: mywebsite
--

CREATE TABLE public.carrier (
    carrier_id integer NOT NULL,
    carrier_name character varying(255) NOT NULL,
    carrier_avt_url character varying(255),
    base_price numeric(10,2) NOT NULL,
    price_per_kg numeric(10,2) DEFAULT 5000 NOT NULL,
    is_active boolean DEFAULT true NOT NULL
);


ALTER TABLE public.carrier OWNER TO mywebsite;

--
-- TOC entry 229 (class 1259 OID 16939)
-- Name: carrier_carrier_id_seq; Type: SEQUENCE; Schema: public; Owner: mywebsite
--

ALTER TABLE public.carrier ALTER COLUMN carrier_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.carrier_carrier_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 228 (class 1259 OID 16932)
-- Name: category; Type: TABLE; Schema: public; Owner: mywebsite
--

CREATE TABLE public.category (
    category_id integer NOT NULL,
    category_name character varying(255) NOT NULL
);


ALTER TABLE public.category OWNER TO mywebsite;

--
-- TOC entry 227 (class 1259 OID 16931)
-- Name: category_category_id_seq; Type: SEQUENCE; Schema: public; Owner: mywebsite
--

ALTER TABLE public.category ALTER COLUMN category_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.category_category_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 240 (class 1259 OID 16987)
-- Name: discount; Type: TABLE; Schema: public; Owner: mywebsite
--

CREATE TABLE public.discount (
    discount_id integer NOT NULL,
    code character varying(50) NOT NULL,
    discount_percent numeric(4,2) NOT NULL,
    min_order_value numeric(10,2) DEFAULT 0 NOT NULL,
    max_discount numeric(10,2),
    start_date date NOT NULL,
    end_date date NOT NULL,
    usage_limit integer,
    used_count integer DEFAULT 0 NOT NULL,
    is_active boolean DEFAULT true NOT NULL
);


ALTER TABLE public.discount OWNER TO mywebsite;

--
-- TOC entry 239 (class 1259 OID 16986)
-- Name: discount_discount_id_seq; Type: SEQUENCE; Schema: public; Owner: mywebsite
--

ALTER TABLE public.discount ALTER COLUMN discount_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.discount_discount_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 242 (class 1259 OID 16998)
-- Name: order; Type: TABLE; Schema: public; Owner: mywebsite
--

CREATE TABLE public."order" (
    order_id integer NOT NULL,
    buyer_id integer NOT NULL,
    buyer_address_id integer NOT NULL,
    payment_method public.payment_method_enum NOT NULL,
    subtotal numeric(10,2) NOT NULL,
    shipping_price numeric(10,2) DEFAULT 0 NOT NULL,
    discount_amount numeric(10,2) DEFAULT 0 NOT NULL,
    total_price numeric(10,2) NOT NULL,
    order_date timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    delivery_date timestamp without time zone,
    order_status public.order_status_enum DEFAULT 'pending'::public.order_status_enum NOT NULL,
    payment_status public.payment_status_enum DEFAULT 'pending'::public.payment_status_enum NOT NULL,
    discount_id integer,
    carrier_id integer NOT NULL,
    notes text
);


ALTER TABLE public."order" OWNER TO mywebsite;

--
-- TOC entry 244 (class 1259 OID 17011)
-- Name: order_item; Type: TABLE; Schema: public; Owner: mywebsite
--

CREATE TABLE public.order_item (
    order_item_id integer NOT NULL,
    order_id integer NOT NULL,
    product_id integer NOT NULL,
    variant_id integer,
    size_id integer,
    quantity integer NOT NULL,
    unit_price numeric(10,2) NOT NULL,
    total_price numeric(10,2) NOT NULL
);


ALTER TABLE public.order_item OWNER TO mywebsite;

--
-- TOC entry 243 (class 1259 OID 17010)
-- Name: order_item_order_item_id_seq; Type: SEQUENCE; Schema: public; Owner: mywebsite
--

ALTER TABLE public.order_item ALTER COLUMN order_item_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.order_item_order_item_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 241 (class 1259 OID 16997)
-- Name: order_order_id_seq; Type: SEQUENCE; Schema: public; Owner: mywebsite
--

ALTER TABLE public."order" ALTER COLUMN order_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.order_order_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 232 (class 1259 OID 16950)
-- Name: product; Type: TABLE; Schema: public; Owner: mywebsite
--

CREATE TABLE public.product (
    product_id integer NOT NULL,
    name character varying(255) NOT NULL,
    seller_id integer NOT NULL,
    base_price numeric(10,2) NOT NULL,
    rating numeric(2,1) DEFAULT 0 NOT NULL,
    review_count integer DEFAULT 0 NOT NULL,
    category_id integer,
    description text,
    discount_percent numeric(4,2) DEFAULT 0 NOT NULL,
    weight numeric(10,2),
    is_active boolean DEFAULT true NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    sold_quantity integer DEFAULT 0 NOT NULL,
    CONSTRAINT chk_product_sold_quantity_non_negative CHECK ((sold_quantity >= 0))
);


ALTER TABLE public.product OWNER TO mywebsite;

--
-- TOC entry 238 (class 1259 OID 16978)
-- Name: product_image; Type: TABLE; Schema: public; Owner: mywebsite
--

CREATE TABLE public.product_image (
    product_image_id integer NOT NULL,
    product_id integer NOT NULL,
    image_url character varying(500) NOT NULL,
    is_primary boolean DEFAULT false NOT NULL
);


ALTER TABLE public.product_image OWNER TO mywebsite;

--
-- TOC entry 237 (class 1259 OID 16977)
-- Name: product_image_product_image_id_seq; Type: SEQUENCE; Schema: public; Owner: mywebsite
--

ALTER TABLE public.product_image ALTER COLUMN product_image_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.product_image_product_image_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 231 (class 1259 OID 16949)
-- Name: product_product_id_seq; Type: SEQUENCE; Schema: public; Owner: mywebsite
--

ALTER TABLE public.product ALTER COLUMN product_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.product_product_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 236 (class 1259 OID 16970)
-- Name: product_size; Type: TABLE; Schema: public; Owner: mywebsite
--

CREATE TABLE public.product_size (
    size_id integer NOT NULL,
    variant_id integer NOT NULL,
    size_name character varying(20) NOT NULL,
    available_units integer DEFAULT 0 NOT NULL,
    in_stock boolean DEFAULT true NOT NULL
);


ALTER TABLE public.product_size OWNER TO mywebsite;

--
-- TOC entry 235 (class 1259 OID 16969)
-- Name: product_size_size_id_seq; Type: SEQUENCE; Schema: public; Owner: mywebsite
--

ALTER TABLE public.product_size ALTER COLUMN size_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.product_size_size_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 234 (class 1259 OID 16963)
-- Name: product_variant; Type: TABLE; Schema: public; Owner: mywebsite
--

CREATE TABLE public.product_variant (
    variant_id integer NOT NULL,
    product_id integer NOT NULL,
    variant_name character varying(100) NOT NULL,
    price_adjustment numeric(10,2) DEFAULT 0 NOT NULL
);


ALTER TABLE public.product_variant OWNER TO mywebsite;

--
-- TOC entry 233 (class 1259 OID 16962)
-- Name: product_variant_variant_id_seq; Type: SEQUENCE; Schema: public; Owner: mywebsite
--

ALTER TABLE public.product_variant ALTER COLUMN variant_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.product_variant_variant_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 250 (class 1259 OID 17032)
-- Name: review; Type: TABLE; Schema: public; Owner: mywebsite
--

CREATE TABLE public.review (
    review_id integer NOT NULL,
    product_id integer NOT NULL,
    buyer_id integer NOT NULL,
    order_id integer NOT NULL,
    review_text text,
    rating numeric(2,1) NOT NULL,
    is_verified boolean DEFAULT false NOT NULL,
    review_date timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.review OWNER TO mywebsite;

--
-- TOC entry 252 (class 1259 OID 17042)
-- Name: review_image; Type: TABLE; Schema: public; Owner: mywebsite
--

CREATE TABLE public.review_image (
    review_image_id integer NOT NULL,
    review_id integer NOT NULL,
    image_url character varying(500) NOT NULL
);


ALTER TABLE public.review_image OWNER TO mywebsite;

--
-- TOC entry 251 (class 1259 OID 17041)
-- Name: review_image_review_image_id_seq; Type: SEQUENCE; Schema: public; Owner: mywebsite
--

ALTER TABLE public.review_image ALTER COLUMN review_image_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.review_image_review_image_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 254 (class 1259 OID 17050)
-- Name: review_reply; Type: TABLE; Schema: public; Owner: mywebsite
--

CREATE TABLE public.review_reply (
    review_reply_id integer NOT NULL,
    review_id integer NOT NULL,
    seller_id integer NOT NULL,
    reply_text text NOT NULL,
    reply_date timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.review_reply OWNER TO mywebsite;

--
-- TOC entry 253 (class 1259 OID 17049)
-- Name: review_reply_review_reply_id_seq; Type: SEQUENCE; Schema: public; Owner: mywebsite
--

ALTER TABLE public.review_reply ALTER COLUMN review_reply_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.review_reply_review_reply_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 249 (class 1259 OID 17031)
-- Name: review_review_id_seq; Type: SEQUENCE; Schema: public; Owner: mywebsite
--

ALTER TABLE public.review ALTER COLUMN review_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.review_review_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 220 (class 1259 OID 16892)
-- Name: seller; Type: TABLE; Schema: public; Owner: mywebsite
--

CREATE TABLE public.seller (
    seller_id integer NOT NULL,
    email character varying(255) NOT NULL,
    phone character varying(20) NOT NULL,
    fname character varying(255) NOT NULL,
    lname character varying(255),
    password character varying(255) NOT NULL,
    shop_name character varying(255) NOT NULL,
    seller_tier public.seller_tier DEFAULT 'regular'::public.seller_tier NOT NULL,
    avt_url character varying(255),
    description character varying(255),
    average_rating numeric(2,1) DEFAULT 0 NOT NULL,
    rating_count integer DEFAULT 0 NOT NULL,
    is_verified boolean DEFAULT false NOT NULL,
    is_active boolean DEFAULT true NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.seller OWNER TO mywebsite;

--
-- TOC entry 226 (class 1259 OID 16925)
-- Name: seller_address; Type: TABLE; Schema: public; Owner: mywebsite
--

CREATE TABLE public.seller_address (
    seller_address_id integer NOT NULL,
    seller_id integer NOT NULL,
    address_id integer NOT NULL,
    is_default boolean DEFAULT false NOT NULL,
    label public.seller_address_label_enum
);


ALTER TABLE public.seller_address OWNER TO mywebsite;

--
-- TOC entry 225 (class 1259 OID 16924)
-- Name: seller_address_seller_address_id_seq; Type: SEQUENCE; Schema: public; Owner: mywebsite
--

ALTER TABLE public.seller_address ALTER COLUMN seller_address_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.seller_address_seller_address_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 219 (class 1259 OID 16891)
-- Name: seller_seller_id_seq; Type: SEQUENCE; Schema: public; Owner: mywebsite
--

ALTER TABLE public.seller ALTER COLUMN seller_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.seller_seller_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 246 (class 1259 OID 17017)
-- Name: shopping_cart; Type: TABLE; Schema: public; Owner: mywebsite
--

CREATE TABLE public.shopping_cart (
    shopping_cart_id integer NOT NULL,
    buyer_id integer NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    updated_at timestamp without time zone
);


ALTER TABLE public.shopping_cart OWNER TO mywebsite;

--
-- TOC entry 248 (class 1259 OID 17024)
-- Name: shopping_cart_item; Type: TABLE; Schema: public; Owner: mywebsite
--

CREATE TABLE public.shopping_cart_item (
    shopping_cart_item_id integer NOT NULL,
    shopping_cart_id integer NOT NULL,
    product_id integer NOT NULL,
    variant_id integer,
    size_id integer,
    quantity integer DEFAULT 1 NOT NULL,
    added_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.shopping_cart_item OWNER TO mywebsite;

--
-- TOC entry 247 (class 1259 OID 17023)
-- Name: shopping_cart_item_shopping_cart_item_id_seq; Type: SEQUENCE; Schema: public; Owner: mywebsite
--

ALTER TABLE public.shopping_cart_item ALTER COLUMN shopping_cart_item_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.shopping_cart_item_shopping_cart_item_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 245 (class 1259 OID 17016)
-- Name: shopping_cart_shopping_cart_id_seq; Type: SEQUENCE; Schema: public; Owner: mywebsite
--

ALTER TABLE public.shopping_cart ALTER COLUMN shopping_cart_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.shopping_cart_shopping_cart_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 3673 (class 0 OID 16910)
-- Dependencies: 222
-- Data for Name: address; Type: TABLE DATA; Schema: public; Owner: mywebsite
--

COPY public.address (address_id, fullname, street, ward, district, province, phone) FROM stdin;
1	Hoàng Đình Duy	79 Ngụy Như Kon Tum	Nhân Chính	Thanh Xuân	Hà Nội	0123456789
5	Duy	334 Nguyễn Trãi	Thanh Xuân Trung	Thanh Xuân	Hà Nội	555555555
6	Huế	Tân Tiến	Chi Lăng	Hưng Hà	Thái Bình	045678944
\.


--
-- TOC entry 3667 (class 0 OID 16864)
-- Dependencies: 216
-- Data for Name: admin; Type: TABLE DATA; Schema: public; Owner: mywebsite
--

COPY public.admin (admin_id, email, phone, fname, lname, password, avt_url, created_at) FROM stdin;
1	admin1@example.com	0900000001	Admin	Super	$2b$12$UQQXx3Eo/Qaq0G7XPW7L4unuIl8M7FyKcuU8uPDEHhMZuHr4BGuK6	\N	2025-09-04 07:45:59.329063
2	admin2@example.com	0900000002	Admin2	Admin2	$2b$12$IYsWMeNzykt6QMjAGSTU5.O65OKFP4MMGTHwzFuUOEMJmHJaIKHC.	\N	2025-09-04 07:48:29.26751
\.


--
-- TOC entry 3669 (class 0 OID 16877)
-- Dependencies: 218
-- Data for Name: buyer; Type: TABLE DATA; Schema: public; Owner: mywebsite
--

COPY public.buyer (buyer_id, email, phone, fname, lname, password, avt_url, buyer_tier, is_active, created_at) FROM stdin;
1	myname@example.com	0994654771	Name	My	$2b$12$0cdDIhnA4qZ4uUd0R8ODvO7WjQpZMLiCJM/mbdw6nVKIHJSJguWz2	avatars/2025/09/fff048e156714196a47b6d1b18f6942f.jpg	bronze	t	2025-08-22 11:01:29.930014
\.


--
-- TOC entry 3675 (class 0 OID 16918)
-- Dependencies: 224
-- Data for Name: buyer_address; Type: TABLE DATA; Schema: public; Owner: mywebsite
--

COPY public.buyer_address (buyer_address_id, buyer_id, address_id, is_default, label) FROM stdin;
1	1	1	t	home
5	1	5	f	other
6	1	6	f	home
\.


--
-- TOC entry 3681 (class 0 OID 16940)
-- Dependencies: 230
-- Data for Name: carrier; Type: TABLE DATA; Schema: public; Owner: mywebsite
--

COPY public.carrier (carrier_id, carrier_name, carrier_avt_url, base_price, price_per_kg, is_active) FROM stdin;
\.


--
-- TOC entry 3679 (class 0 OID 16932)
-- Dependencies: 228
-- Data for Name: category; Type: TABLE DATA; Schema: public; Owner: mywebsite
--

COPY public.category (category_id, category_name) FROM stdin;
1	Thời Trang Nam
2	Thời Trang Nữ
3	Thiết Bị Điện Tử
4	Sắc Đẹp
5	Thể Thao
7	Giày Dép Nam
8	Giày Dép Nữ
6	Thiết Bị Điện Gia Dụng
\.


--
-- TOC entry 3691 (class 0 OID 16987)
-- Dependencies: 240
-- Data for Name: discount; Type: TABLE DATA; Schema: public; Owner: mywebsite
--

COPY public.discount (discount_id, code, discount_percent, min_order_value, max_discount, start_date, end_date, usage_limit, used_count, is_active) FROM stdin;
\.


--
-- TOC entry 3693 (class 0 OID 16998)
-- Dependencies: 242
-- Data for Name: order; Type: TABLE DATA; Schema: public; Owner: mywebsite
--

COPY public."order" (order_id, buyer_id, buyer_address_id, payment_method, subtotal, shipping_price, discount_amount, total_price, order_date, delivery_date, order_status, payment_status, discount_id, carrier_id, notes) FROM stdin;
\.


--
-- TOC entry 3695 (class 0 OID 17011)
-- Dependencies: 244
-- Data for Name: order_item; Type: TABLE DATA; Schema: public; Owner: mywebsite
--

COPY public.order_item (order_item_id, order_id, product_id, variant_id, size_id, quantity, unit_price, total_price) FROM stdin;
\.


--
-- TOC entry 3683 (class 0 OID 16950)
-- Dependencies: 232
-- Data for Name: product; Type: TABLE DATA; Schema: public; Owner: mywebsite
--

COPY public.product (product_id, name, seller_id, base_price, rating, review_count, category_id, description, discount_percent, weight, is_active, created_at, sold_quantity) FROM stdin;
1	Áo sơ mi đũi nam cổ trụ 2 túi cúc áo sơ mi cổ tàu ZUTEE	1	250000.00	0.0	0	1	THÔNG TIN SẢN PHẨM SƠ MI CỔ TÀU NAM CAO CẤP	41.00	0.20	t	2025-09-14 02:47:17.04049	0
3	Áo Polo Nam YODY– Vải Cotton Mắt Chim Co Giãn – Thoáng Mát, Chống Nhăn – Áo Thun Có Cổ Nam Thời Trang APM7459	1	300000.00	0.0	0	1	👕 ÁO POLO NAM YODY APM7459 – THOÁNG MÁT, LỊCH LÃM, CHỐNG NHĂN	40.00	0.20	t	2025-09-14 02:51:36.861411	0
\.


--
-- TOC entry 3689 (class 0 OID 16978)
-- Dependencies: 238
-- Data for Name: product_image; Type: TABLE DATA; Schema: public; Owner: mywebsite
--

COPY public.product_image (product_image_id, product_id, image_url, is_primary) FROM stdin;
3	1	products/2025/09/c93b1a0fdc064ca5ab2d06c54bd0e35a.webp	f
4	1	products/2025/09/f04a91d4d3b54321831aaa9258d6bcbd.webp	f
5	1	products/2025/09/1d5b9c468bcb4d889c2aa378a093f0d8.webp	f
6	1	products/2025/09/66f03a2b17544aab9c4fe34ce7e5e6ba.webp	f
2	1	products/2025/09/43f431a1a6df4dc393052aeba3936f24.webp	f
1	1	products/2025/09/a8fde98210fe4a9589f4c3ebee3cee01.webp	t
8	1	products/2025/09/602d856fc1b844fb89135d77e017974a.webp	f
9	1	products/2025/09/e31a6dd241de4775a9d316da7959de2d.webp	f
10	1	products/2025/09/13e494f300684197b22cb4fdc6dbe6b0.webp	f
\.


--
-- TOC entry 3687 (class 0 OID 16970)
-- Dependencies: 236
-- Data for Name: product_size; Type: TABLE DATA; Schema: public; Owner: mywebsite
--

COPY public.product_size (size_id, variant_id, size_name, available_units, in_stock) FROM stdin;
1	1	M (50-63kg)	100	t
2	1	L (64-70kg)	100	t
3	1	XL (71-76kg)	100	t
4	1	XXL (77-85kg)	100	t
5	3	L (64-70kg)	200	t
6	3	M (50-63kg)	150	t
\.


--
-- TOC entry 3685 (class 0 OID 16963)
-- Dependencies: 234
-- Data for Name: product_variant; Type: TABLE DATA; Schema: public; Owner: mywebsite
--

COPY public.product_variant (variant_id, product_id, variant_name, price_adjustment) FROM stdin;
3	1	Đen	0.00
4	1	Xám	0.00
5	1	Xanh Than	0.00
1	1	Trắng	0.00
\.


--
-- TOC entry 3701 (class 0 OID 17032)
-- Dependencies: 250
-- Data for Name: review; Type: TABLE DATA; Schema: public; Owner: mywebsite
--

COPY public.review (review_id, product_id, buyer_id, order_id, review_text, rating, is_verified, review_date) FROM stdin;
\.


--
-- TOC entry 3703 (class 0 OID 17042)
-- Dependencies: 252
-- Data for Name: review_image; Type: TABLE DATA; Schema: public; Owner: mywebsite
--

COPY public.review_image (review_image_id, review_id, image_url) FROM stdin;
\.


--
-- TOC entry 3705 (class 0 OID 17050)
-- Dependencies: 254
-- Data for Name: review_reply; Type: TABLE DATA; Schema: public; Owner: mywebsite
--

COPY public.review_reply (review_reply_id, review_id, seller_id, reply_text, reply_date) FROM stdin;
\.


--
-- TOC entry 3671 (class 0 OID 16892)
-- Dependencies: 220
-- Data for Name: seller; Type: TABLE DATA; Schema: public; Owner: mywebsite
--

COPY public.seller (seller_id, email, phone, fname, lname, password, shop_name, seller_tier, avt_url, description, average_rating, rating_count, is_verified, is_active, created_at) FROM stdin;
1	myshop@example.com	1900 9999	Mười	Mười	$2b$12$pE/SXLrN1l6lNAr0aUwljOiRBu35Ctbcvirkq6dUAnPMbl6AV.SAO	Test Shop	regular	\N	\N	0.0	0	f	t	2025-08-22 11:16:07.036473
\.


--
-- TOC entry 3677 (class 0 OID 16925)
-- Dependencies: 226
-- Data for Name: seller_address; Type: TABLE DATA; Schema: public; Owner: mywebsite
--

COPY public.seller_address (seller_address_id, seller_id, address_id, is_default, label) FROM stdin;
\.


--
-- TOC entry 3697 (class 0 OID 17017)
-- Dependencies: 246
-- Data for Name: shopping_cart; Type: TABLE DATA; Schema: public; Owner: mywebsite
--

COPY public.shopping_cart (shopping_cart_id, buyer_id, created_at, updated_at) FROM stdin;
\.


--
-- TOC entry 3699 (class 0 OID 17024)
-- Dependencies: 248
-- Data for Name: shopping_cart_item; Type: TABLE DATA; Schema: public; Owner: mywebsite
--

COPY public.shopping_cart_item (shopping_cart_item_id, shopping_cart_id, product_id, variant_id, size_id, quantity, added_at) FROM stdin;
\.


--
-- TOC entry 3711 (class 0 OID 0)
-- Dependencies: 221
-- Name: address_address_id_seq; Type: SEQUENCE SET; Schema: public; Owner: mywebsite
--

SELECT pg_catalog.setval('public.address_address_id_seq', 6, true);


--
-- TOC entry 3712 (class 0 OID 0)
-- Dependencies: 215
-- Name: admin_admin_id_seq; Type: SEQUENCE SET; Schema: public; Owner: mywebsite
--

SELECT pg_catalog.setval('public.admin_admin_id_seq', 2, true);


--
-- TOC entry 3713 (class 0 OID 0)
-- Dependencies: 223
-- Name: buyer_address_buyer_address_id_seq; Type: SEQUENCE SET; Schema: public; Owner: mywebsite
--

SELECT pg_catalog.setval('public.buyer_address_buyer_address_id_seq', 6, true);


--
-- TOC entry 3714 (class 0 OID 0)
-- Dependencies: 217
-- Name: buyer_buyer_id_seq; Type: SEQUENCE SET; Schema: public; Owner: mywebsite
--

SELECT pg_catalog.setval('public.buyer_buyer_id_seq', 1, true);


--
-- TOC entry 3715 (class 0 OID 0)
-- Dependencies: 229
-- Name: carrier_carrier_id_seq; Type: SEQUENCE SET; Schema: public; Owner: mywebsite
--

SELECT pg_catalog.setval('public.carrier_carrier_id_seq', 1, false);


--
-- TOC entry 3716 (class 0 OID 0)
-- Dependencies: 227
-- Name: category_category_id_seq; Type: SEQUENCE SET; Schema: public; Owner: mywebsite
--

SELECT pg_catalog.setval('public.category_category_id_seq', 8, true);


--
-- TOC entry 3717 (class 0 OID 0)
-- Dependencies: 239
-- Name: discount_discount_id_seq; Type: SEQUENCE SET; Schema: public; Owner: mywebsite
--

SELECT pg_catalog.setval('public.discount_discount_id_seq', 1, false);


--
-- TOC entry 3718 (class 0 OID 0)
-- Dependencies: 243
-- Name: order_item_order_item_id_seq; Type: SEQUENCE SET; Schema: public; Owner: mywebsite
--

SELECT pg_catalog.setval('public.order_item_order_item_id_seq', 1, false);


--
-- TOC entry 3719 (class 0 OID 0)
-- Dependencies: 241
-- Name: order_order_id_seq; Type: SEQUENCE SET; Schema: public; Owner: mywebsite
--

SELECT pg_catalog.setval('public.order_order_id_seq', 1, false);


--
-- TOC entry 3720 (class 0 OID 0)
-- Dependencies: 237
-- Name: product_image_product_image_id_seq; Type: SEQUENCE SET; Schema: public; Owner: mywebsite
--

SELECT pg_catalog.setval('public.product_image_product_image_id_seq', 10, true);


--
-- TOC entry 3721 (class 0 OID 0)
-- Dependencies: 231
-- Name: product_product_id_seq; Type: SEQUENCE SET; Schema: public; Owner: mywebsite
--

SELECT pg_catalog.setval('public.product_product_id_seq', 3, true);


--
-- TOC entry 3722 (class 0 OID 0)
-- Dependencies: 235
-- Name: product_size_size_id_seq; Type: SEQUENCE SET; Schema: public; Owner: mywebsite
--

SELECT pg_catalog.setval('public.product_size_size_id_seq', 6, true);


--
-- TOC entry 3723 (class 0 OID 0)
-- Dependencies: 233
-- Name: product_variant_variant_id_seq; Type: SEQUENCE SET; Schema: public; Owner: mywebsite
--

SELECT pg_catalog.setval('public.product_variant_variant_id_seq', 5, true);


--
-- TOC entry 3724 (class 0 OID 0)
-- Dependencies: 251
-- Name: review_image_review_image_id_seq; Type: SEQUENCE SET; Schema: public; Owner: mywebsite
--

SELECT pg_catalog.setval('public.review_image_review_image_id_seq', 1, false);


--
-- TOC entry 3725 (class 0 OID 0)
-- Dependencies: 253
-- Name: review_reply_review_reply_id_seq; Type: SEQUENCE SET; Schema: public; Owner: mywebsite
--

SELECT pg_catalog.setval('public.review_reply_review_reply_id_seq', 1, false);


--
-- TOC entry 3726 (class 0 OID 0)
-- Dependencies: 249
-- Name: review_review_id_seq; Type: SEQUENCE SET; Schema: public; Owner: mywebsite
--

SELECT pg_catalog.setval('public.review_review_id_seq', 1, false);


--
-- TOC entry 3727 (class 0 OID 0)
-- Dependencies: 225
-- Name: seller_address_seller_address_id_seq; Type: SEQUENCE SET; Schema: public; Owner: mywebsite
--

SELECT pg_catalog.setval('public.seller_address_seller_address_id_seq', 1, false);


--
-- TOC entry 3728 (class 0 OID 0)
-- Dependencies: 219
-- Name: seller_seller_id_seq; Type: SEQUENCE SET; Schema: public; Owner: mywebsite
--

SELECT pg_catalog.setval('public.seller_seller_id_seq', 1, true);


--
-- TOC entry 3729 (class 0 OID 0)
-- Dependencies: 247
-- Name: shopping_cart_item_shopping_cart_item_id_seq; Type: SEQUENCE SET; Schema: public; Owner: mywebsite
--

SELECT pg_catalog.setval('public.shopping_cart_item_shopping_cart_item_id_seq', 1, false);


--
-- TOC entry 3730 (class 0 OID 0)
-- Dependencies: 245
-- Name: shopping_cart_shopping_cart_id_seq; Type: SEQUENCE SET; Schema: public; Owner: mywebsite
--

SELECT pg_catalog.setval('public.shopping_cart_shopping_cart_id_seq', 1, false);


--
-- TOC entry 3449 (class 2606 OID 16916)
-- Name: address address_pkey; Type: CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.address
    ADD CONSTRAINT address_pkey PRIMARY KEY (address_id);


--
-- TOC entry 3425 (class 2606 OID 16873)
-- Name: admin admin_email_key; Type: CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.admin
    ADD CONSTRAINT admin_email_key UNIQUE (email);


--
-- TOC entry 3427 (class 2606 OID 16875)
-- Name: admin admin_phone_key; Type: CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.admin
    ADD CONSTRAINT admin_phone_key UNIQUE (phone);


--
-- TOC entry 3429 (class 2606 OID 16871)
-- Name: admin admin_pkey; Type: CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.admin
    ADD CONSTRAINT admin_pkey PRIMARY KEY (admin_id);


--
-- TOC entry 3451 (class 2606 OID 16923)
-- Name: buyer_address buyer_address_pkey; Type: CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.buyer_address
    ADD CONSTRAINT buyer_address_pkey PRIMARY KEY (buyer_address_id);


--
-- TOC entry 3434 (class 2606 OID 16888)
-- Name: buyer buyer_email_key; Type: CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.buyer
    ADD CONSTRAINT buyer_email_key UNIQUE (email);


--
-- TOC entry 3436 (class 2606 OID 16890)
-- Name: buyer buyer_phone_key; Type: CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.buyer
    ADD CONSTRAINT buyer_phone_key UNIQUE (phone);


--
-- TOC entry 3438 (class 2606 OID 16886)
-- Name: buyer buyer_pkey; Type: CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.buyer
    ADD CONSTRAINT buyer_pkey PRIMARY KEY (buyer_id);


--
-- TOC entry 3459 (class 2606 OID 16948)
-- Name: carrier carrier_pkey; Type: CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.carrier
    ADD CONSTRAINT carrier_pkey PRIMARY KEY (carrier_id);


--
-- TOC entry 3455 (class 2606 OID 16938)
-- Name: category category_category_name_key; Type: CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.category
    ADD CONSTRAINT category_category_name_key UNIQUE (category_name);


--
-- TOC entry 3457 (class 2606 OID 16936)
-- Name: category category_pkey; Type: CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.category
    ADD CONSTRAINT category_pkey PRIMARY KEY (category_id);


--
-- TOC entry 3478 (class 2606 OID 16996)
-- Name: discount discount_code_key; Type: CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.discount
    ADD CONSTRAINT discount_code_key UNIQUE (code);


--
-- TOC entry 3480 (class 2606 OID 16994)
-- Name: discount discount_pkey; Type: CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.discount
    ADD CONSTRAINT discount_pkey PRIMARY KEY (discount_id);


--
-- TOC entry 3484 (class 2606 OID 17015)
-- Name: order_item order_item_pkey; Type: CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.order_item
    ADD CONSTRAINT order_item_pkey PRIMARY KEY (order_item_id);


--
-- TOC entry 3482 (class 2606 OID 17009)
-- Name: order order_pkey; Type: CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public."order"
    ADD CONSTRAINT order_pkey PRIMARY KEY (order_id);


--
-- TOC entry 3476 (class 2606 OID 16985)
-- Name: product_image product_image_pkey; Type: CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.product_image
    ADD CONSTRAINT product_image_pkey PRIMARY KEY (product_image_id);


--
-- TOC entry 3464 (class 2606 OID 16961)
-- Name: product product_pkey; Type: CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.product
    ADD CONSTRAINT product_pkey PRIMARY KEY (product_id);


--
-- TOC entry 3472 (class 2606 OID 16976)
-- Name: product_size product_size_pkey; Type: CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.product_size
    ADD CONSTRAINT product_size_pkey PRIMARY KEY (size_id);


--
-- TOC entry 3467 (class 2606 OID 16968)
-- Name: product_variant product_variant_pkey; Type: CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.product_variant
    ADD CONSTRAINT product_variant_pkey PRIMARY KEY (variant_id);


--
-- TOC entry 3492 (class 2606 OID 17048)
-- Name: review_image review_image_pkey; Type: CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.review_image
    ADD CONSTRAINT review_image_pkey PRIMARY KEY (review_image_id);


--
-- TOC entry 3490 (class 2606 OID 17040)
-- Name: review review_pkey; Type: CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.review
    ADD CONSTRAINT review_pkey PRIMARY KEY (review_id);


--
-- TOC entry 3494 (class 2606 OID 17057)
-- Name: review_reply review_reply_pkey; Type: CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.review_reply
    ADD CONSTRAINT review_reply_pkey PRIMARY KEY (review_reply_id);


--
-- TOC entry 3453 (class 2606 OID 16930)
-- Name: seller_address seller_address_pkey; Type: CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.seller_address
    ADD CONSTRAINT seller_address_pkey PRIMARY KEY (seller_address_id);


--
-- TOC entry 3443 (class 2606 OID 16906)
-- Name: seller seller_email_key; Type: CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.seller
    ADD CONSTRAINT seller_email_key UNIQUE (email);


--
-- TOC entry 3445 (class 2606 OID 16908)
-- Name: seller seller_phone_key; Type: CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.seller
    ADD CONSTRAINT seller_phone_key UNIQUE (phone);


--
-- TOC entry 3447 (class 2606 OID 16904)
-- Name: seller seller_pkey; Type: CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.seller
    ADD CONSTRAINT seller_pkey PRIMARY KEY (seller_id);


--
-- TOC entry 3488 (class 2606 OID 17030)
-- Name: shopping_cart_item shopping_cart_item_pkey; Type: CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.shopping_cart_item
    ADD CONSTRAINT shopping_cart_item_pkey PRIMARY KEY (shopping_cart_item_id);


--
-- TOC entry 3486 (class 2606 OID 17022)
-- Name: shopping_cart shopping_cart_pkey; Type: CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.shopping_cart
    ADD CONSTRAINT shopping_cart_pkey PRIMARY KEY (shopping_cart_id);


--
-- TOC entry 3469 (class 2606 OID 17217)
-- Name: product_variant uq_product_variant_name; Type: CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.product_variant
    ADD CONSTRAINT uq_product_variant_name UNIQUE (product_id, variant_name);


--
-- TOC entry 3474 (class 2606 OID 17220)
-- Name: product_size uq_variant_size_name; Type: CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.product_size
    ADD CONSTRAINT uq_variant_size_name UNIQUE (variant_id, size_name);


--
-- TOC entry 3430 (class 1259 OID 17201)
-- Name: idx_admin_admin_id; Type: INDEX; Schema: public; Owner: mywebsite
--

CREATE INDEX idx_admin_admin_id ON public.admin USING btree (admin_id);


--
-- TOC entry 3431 (class 1259 OID 17204)
-- Name: idx_admin_email; Type: INDEX; Schema: public; Owner: mywebsite
--

CREATE INDEX idx_admin_email ON public.admin USING btree (email);


--
-- TOC entry 3432 (class 1259 OID 17205)
-- Name: idx_admin_phone; Type: INDEX; Schema: public; Owner: mywebsite
--

CREATE INDEX idx_admin_phone ON public.admin USING btree (phone);


--
-- TOC entry 3439 (class 1259 OID 17202)
-- Name: idx_buyer_buyer_id; Type: INDEX; Schema: public; Owner: mywebsite
--

CREATE INDEX idx_buyer_buyer_id ON public.buyer USING btree (buyer_id);


--
-- TOC entry 3440 (class 1259 OID 17206)
-- Name: idx_buyer_email; Type: INDEX; Schema: public; Owner: mywebsite
--

CREATE INDEX idx_buyer_email ON public.buyer USING btree (email);


--
-- TOC entry 3441 (class 1259 OID 17207)
-- Name: idx_buyer_phone; Type: INDEX; Schema: public; Owner: mywebsite
--

CREATE INDEX idx_buyer_phone ON public.buyer USING btree (phone);


--
-- TOC entry 3470 (class 1259 OID 17221)
-- Name: idx_product_size_variant_id; Type: INDEX; Schema: public; Owner: mywebsite
--

CREATE INDEX idx_product_size_variant_id ON public.product_size USING btree (variant_id);


--
-- TOC entry 3460 (class 1259 OID 17224)
-- Name: idx_product_sold_category; Type: INDEX; Schema: public; Owner: mywebsite
--

CREATE INDEX idx_product_sold_category ON public.product USING btree (category_id, sold_quantity DESC);


--
-- TOC entry 3461 (class 1259 OID 17223)
-- Name: idx_product_sold_quantity; Type: INDEX; Schema: public; Owner: mywebsite
--

CREATE INDEX idx_product_sold_quantity ON public.product USING btree (sold_quantity DESC);


--
-- TOC entry 3462 (class 1259 OID 17225)
-- Name: idx_product_sold_seller; Type: INDEX; Schema: public; Owner: mywebsite
--

CREATE INDEX idx_product_sold_seller ON public.product USING btree (seller_id, sold_quantity DESC);


--
-- TOC entry 3465 (class 1259 OID 17218)
-- Name: idx_product_variant_product_id; Type: INDEX; Schema: public; Owner: mywebsite
--

CREATE INDEX idx_product_variant_product_id ON public.product_variant USING btree (product_id);


--
-- TOC entry 3495 (class 2606 OID 17063)
-- Name: buyer_address buyer_address_address_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.buyer_address
    ADD CONSTRAINT buyer_address_address_id_fkey FOREIGN KEY (address_id) REFERENCES public.address(address_id);


--
-- TOC entry 3496 (class 2606 OID 17058)
-- Name: buyer_address buyer_address_buyer_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.buyer_address
    ADD CONSTRAINT buyer_address_buyer_id_fkey FOREIGN KEY (buyer_id) REFERENCES public.buyer(buyer_id);


--
-- TOC entry 3504 (class 2606 OID 17108)
-- Name: order order_buyer_address_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public."order"
    ADD CONSTRAINT order_buyer_address_id_fkey FOREIGN KEY (buyer_address_id) REFERENCES public.buyer_address(buyer_address_id);


--
-- TOC entry 3505 (class 2606 OID 17103)
-- Name: order order_buyer_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public."order"
    ADD CONSTRAINT order_buyer_id_fkey FOREIGN KEY (buyer_id) REFERENCES public.buyer(buyer_id);


--
-- TOC entry 3506 (class 2606 OID 17118)
-- Name: order order_carrier_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public."order"
    ADD CONSTRAINT order_carrier_id_fkey FOREIGN KEY (carrier_id) REFERENCES public.carrier(carrier_id);


--
-- TOC entry 3507 (class 2606 OID 17113)
-- Name: order order_discount_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public."order"
    ADD CONSTRAINT order_discount_id_fkey FOREIGN KEY (discount_id) REFERENCES public.discount(discount_id);


--
-- TOC entry 3508 (class 2606 OID 17123)
-- Name: order_item order_item_order_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.order_item
    ADD CONSTRAINT order_item_order_id_fkey FOREIGN KEY (order_id) REFERENCES public."order"(order_id);


--
-- TOC entry 3509 (class 2606 OID 17128)
-- Name: order_item order_item_product_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.order_item
    ADD CONSTRAINT order_item_product_id_fkey FOREIGN KEY (product_id) REFERENCES public.product(product_id);


--
-- TOC entry 3510 (class 2606 OID 17138)
-- Name: order_item order_item_size_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.order_item
    ADD CONSTRAINT order_item_size_id_fkey FOREIGN KEY (size_id) REFERENCES public.product_size(size_id);


--
-- TOC entry 3511 (class 2606 OID 17133)
-- Name: order_item order_item_variant_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.order_item
    ADD CONSTRAINT order_item_variant_id_fkey FOREIGN KEY (variant_id) REFERENCES public.product_variant(variant_id);


--
-- TOC entry 3499 (class 2606 OID 17083)
-- Name: product product_category_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.product
    ADD CONSTRAINT product_category_id_fkey FOREIGN KEY (category_id) REFERENCES public.category(category_id);


--
-- TOC entry 3503 (class 2606 OID 17098)
-- Name: product_image product_image_product_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.product_image
    ADD CONSTRAINT product_image_product_id_fkey FOREIGN KEY (product_id) REFERENCES public.product(product_id);


--
-- TOC entry 3500 (class 2606 OID 17078)
-- Name: product product_seller_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.product
    ADD CONSTRAINT product_seller_id_fkey FOREIGN KEY (seller_id) REFERENCES public.seller(seller_id);


--
-- TOC entry 3502 (class 2606 OID 17093)
-- Name: product_size product_size_variant_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.product_size
    ADD CONSTRAINT product_size_variant_id_fkey FOREIGN KEY (variant_id) REFERENCES public.product_variant(variant_id);


--
-- TOC entry 3501 (class 2606 OID 17088)
-- Name: product_variant product_variant_product_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.product_variant
    ADD CONSTRAINT product_variant_product_id_fkey FOREIGN KEY (product_id) REFERENCES public.product(product_id);


--
-- TOC entry 3517 (class 2606 OID 17173)
-- Name: review review_buyer_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.review
    ADD CONSTRAINT review_buyer_id_fkey FOREIGN KEY (buyer_id) REFERENCES public.buyer(buyer_id);


--
-- TOC entry 3520 (class 2606 OID 17183)
-- Name: review_image review_image_review_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.review_image
    ADD CONSTRAINT review_image_review_id_fkey FOREIGN KEY (review_id) REFERENCES public.review(review_id);


--
-- TOC entry 3518 (class 2606 OID 17178)
-- Name: review review_order_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.review
    ADD CONSTRAINT review_order_id_fkey FOREIGN KEY (order_id) REFERENCES public."order"(order_id);


--
-- TOC entry 3519 (class 2606 OID 17168)
-- Name: review review_product_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.review
    ADD CONSTRAINT review_product_id_fkey FOREIGN KEY (product_id) REFERENCES public.product(product_id);


--
-- TOC entry 3521 (class 2606 OID 17188)
-- Name: review_reply review_reply_review_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.review_reply
    ADD CONSTRAINT review_reply_review_id_fkey FOREIGN KEY (review_id) REFERENCES public.review(review_id);


--
-- TOC entry 3522 (class 2606 OID 17193)
-- Name: review_reply review_reply_seller_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.review_reply
    ADD CONSTRAINT review_reply_seller_id_fkey FOREIGN KEY (seller_id) REFERENCES public.seller(seller_id);


--
-- TOC entry 3497 (class 2606 OID 17073)
-- Name: seller_address seller_address_address_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.seller_address
    ADD CONSTRAINT seller_address_address_id_fkey FOREIGN KEY (address_id) REFERENCES public.address(address_id);


--
-- TOC entry 3498 (class 2606 OID 17068)
-- Name: seller_address seller_address_seller_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.seller_address
    ADD CONSTRAINT seller_address_seller_id_fkey FOREIGN KEY (seller_id) REFERENCES public.seller(seller_id);


--
-- TOC entry 3512 (class 2606 OID 17143)
-- Name: shopping_cart shopping_cart_buyer_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.shopping_cart
    ADD CONSTRAINT shopping_cart_buyer_id_fkey FOREIGN KEY (buyer_id) REFERENCES public.buyer(buyer_id);


--
-- TOC entry 3513 (class 2606 OID 17153)
-- Name: shopping_cart_item shopping_cart_item_product_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.shopping_cart_item
    ADD CONSTRAINT shopping_cart_item_product_id_fkey FOREIGN KEY (product_id) REFERENCES public.product(product_id);


--
-- TOC entry 3514 (class 2606 OID 17148)
-- Name: shopping_cart_item shopping_cart_item_shopping_cart_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.shopping_cart_item
    ADD CONSTRAINT shopping_cart_item_shopping_cart_id_fkey FOREIGN KEY (shopping_cart_id) REFERENCES public.shopping_cart(shopping_cart_id);


--
-- TOC entry 3515 (class 2606 OID 17163)
-- Name: shopping_cart_item shopping_cart_item_size_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.shopping_cart_item
    ADD CONSTRAINT shopping_cart_item_size_id_fkey FOREIGN KEY (size_id) REFERENCES public.product_size(size_id);


--
-- TOC entry 3516 (class 2606 OID 17158)
-- Name: shopping_cart_item shopping_cart_item_variant_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: mywebsite
--

ALTER TABLE ONLY public.shopping_cart_item
    ADD CONSTRAINT shopping_cart_item_variant_id_fkey FOREIGN KEY (variant_id) REFERENCES public.product_variant(variant_id);


-- Completed on 2025-09-22 22:32:08 +07

--
-- PostgreSQL database dump complete
--

\unrestrict EF3T72qECJ5APnlpu4CpR3nCZrf2T5f9GErqlOkzT5ijxlBh53hlnJv17ebblqa

